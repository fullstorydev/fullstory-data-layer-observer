{
  "rules": [
    {
      "id": "fs-event-ceddl-cart",
      "description": "send CEDDL cart's cartID and price properties to FS.event as a 'View Cart' event",
      "source": "digitalData.cart[(cartID,price)]",
      "operators": [
        {
          "name": "insert",
          "value": "View Cart"
        }
      ],
      "destination": "FS.event"
    },
    {
      "id": "fs-event-ceddl-cart-not-items",
      "description": "send CEDDL cart properties except items list to FS.event as a 'View Cart' event",
      "source": "digitalData.cart",
      "operators": [
        {
          "name": "query",
          "select": "$[!(items)]"
        },
        {
          "name": "insert",
          "value": "View Cart"
        }
      ],
      "destination": "FS.event"
    },
    {
      "id": "fs-event-ceddl-cart-convert",
      "description": "converts and sends CEDDL cart properties to FS.event as a 'View Cart' event",
      "source": "digitalData.cart",
      "operators": [
        {
          "name": "flatten"
        },
        {
          "name": "convert",
          "properties": "basePrice,priceWithTax,cartTotal",
          "type": "real"
        },
        {
          "name": "insert",
          "value": "View Cart"
        }
      ],
      "destination": "FS.event",
      "debug": true
    }
  ]
}